!function(e){function t(e){var t=document.createElement("input"),e="on"+e,i=e in t;return i||(t.setAttribute(e,"return;"),i="function"==typeof t[e]),t=null,i}function i(t,n,a){var r=a.aliases[t];return r?(r.alias&&i(r.alias,void 0,a),e.extend(!0,a,r),e.extend(!0,a,n),!0):!1}function n(t){function i(e){function i(e,t,i){this.matches=[],this.isGroup=e||!1,this.isOptional=t||!1,this.isQuantifier=i||!1,this.quantifier={min:1,max:1}}function n(e,i,n){var a=t.definitions[i];if(n=void 0!=n?n:e.matches.length,a&&!o){for(var r=a.prevalidator,s=r?r.length:0,u=1;u<a.cardinality;u++){var l=s>=u?r[u-1]:[],c=l.validator,d=l.cardinality;e.matches.splice(n++,0,{fn:c?"string"==typeof c?new RegExp(c):new function(){this.test=c}:new RegExp("."),cardinality:d?d:1,optionality:e.isOptional,casing:a.casing,def:a.definitionSymbol||i})}e.matches.splice(n++,0,{fn:a.validator?"string"==typeof a.validator?new RegExp(a.validator):new function(){this.test=a.validator}:new RegExp("."),cardinality:a.cardinality,optionality:e.isOptional,casing:a.casing,def:a.definitionSymbol||i})}else e.matches.splice(n++,0,{fn:null,cardinality:0,optionality:e.isOptional,casing:null,def:i}),o=!1}for(var a,r,s=/(?:[?*+]|\{[0-9]+(?:,[0-9\+\*]*)?\})\??|[^.?*+^${[]()|\\]+|./g,o=!1,u=new i,l=[],c=[];a=s.exec(e);)switch(r=a[0],r.charAt(0)){case t.optionalmarker.end:case t.groupmarker.end:var d=l.pop();l.length>0?l[l.length-1].matches.push(d):u.matches.push(d);break;case t.optionalmarker.start:l.push(new i(!1,!0));break;case t.groupmarker.start:l.push(new i(!0));break;case t.quantifiermarker.start:var p=new i(!1,!1,!0);r=r.replace(/[{}]/g,"");var f=r.split(","),v=isNaN(f[0])?f[0]:parseInt(f[0]),m=1==f.length?v:isNaN(f[1])?f[1]:parseInt(f[1]);if(p.quantifier={min:v,max:m},("*"==m||"+"==m)&&(t.greedy=!1),l.length>0){var h=l[l.length-1].matches,a=h.pop();if(!a.isGroup){var k=new i(!0);k.matches.push(a),a=k}h.push(a),h.push(p)}else{var a=u.matches.pop();if(!a.isGroup){var k=new i(!0);k.matches.push(a),a=k}u.matches.push(a),u.matches.push(p)}break;case t.escapeChar:o=!0;break;default:if(l.length>0)n(l[l.length-1],r);else{if(u.matches.length>0){var g=u.matches[u.matches.length-1];g.isGroup&&(g.isGroup=!1,n(g,t.groupmarker.start,0),n(g,t.groupmarker.end))}n(u,r)}}return u.matches.length>0&&c.push(u),c}function n(n,a){if(t.numericInput&&(n=n.split("").reverse().join("")),void 0==n||""==n)return void 0;if(t.repeat>0||"*"==t.repeat||"+"==t.repeat){var r="*"==t.repeat?0:"+"==t.repeat?1:t.repeat;n=t.groupmarker.start+n+t.groupmarker.end+t.quantifiermarker.start+r+","+t.repeat+t.quantifiermarker.end}return void 0==e.inputmask.masksCache[n]&&(e.inputmask.masksCache[n]={mask:n,maskToken:i(n),validPositions:{},_buffer:void 0,buffer:void 0,tests:{},metadata:a}),e.extend(!0,{},e.inputmask.masksCache[n])}var a;return e.isFunction(t.mask)&&(t.mask=t.mask.call(this,t)),e.isArray(t.mask)?e.each(t.mask,function(e,t){return a=void 0!=t.mask?n(t.mask.toString(),t):n(t.toString()),!1}):(1==t.mask.length&&0==t.greedy&&0!=t.repeat&&(t.placeholder=""),a=void 0!=t.mask.mask?n(t.mask.mask.toString(),t.mask):n(t.mask.toString())),a}function a(t,i,n){function a(e,t,n){t=t||0;var a,r,o=[],u=0;do{if(e===!0&&s().validPositions[u]){var l=s().validPositions[u];r=l.match,a=l.locator.slice(),o.push(null==r.fn?r.def:n===!0?l.input:i.placeholder.charAt(u%i.placeholder.length))}else{var c=g(u,!1,a,u-1);c=c[i.greedy||t>u?0:c.length-1],r=c.match,a=c.locator.slice(),o.push(null==r.fn?r.def:i.placeholder.charAt(u%i.placeholder.length))}u++}while((void 0==J||J>u-1&&J>-1)&&null!=r.fn||null==r.fn&&""!=r.def||t>=u);return o.pop(),o}function s(){return t}function f(e){var t=s();t.buffer=void 0,t.tests={},e!==!0&&(t._buffer=void 0,t.validPositions={},t.p=-1)}function v(){var e=s(),t=-1;for(var i in e.validPositions){var n=parseInt(i);n>t&&(t=n)}return t}function m(t,n,a,r){if(i.insertMode&&void 0!=s().validPositions[t]&&void 0==r){for(var o=e.extend(!0,{},s().validPositions),u=M(A());u>t&&u>=0;u--)if(E(u)){var l=M(u),c=s().validPositions[l];void 0!=c&&k(u).def==k(l).def&&void 0==s().validPositions[u]&&P(u,c.input,a,!0)!==!1&&delete s().validPositions[l]}if(void 0!=s().validPositions[t])return s().validPositions=e.extend(!0,{},o),!1;s().validPositions[t]=n}else s().validPositions[t]=n;return!0}function h(e,t){var i,n,a=x(e-1);for(i=e;t>i;i++)delete s().validPositions[i];for(i=t,n=A();n>i;i++){var r=s().validPositions[i],o=s().validPositions[a];void 0!=r&&void 0==o&&(k(a).def==r.match.def&&P(a,r.input,!0)!==!1&&delete s().validPositions[i],a=x(a))}f(!0)}function k(e){return s().validPositions[e]?s().validPositions[e].match:g(e)[0].match}function g(e,t,i,n){function a(t,i,n,r){function s(n,r,d){var p=o;if(o==e&&void 0==n.matches)return l.push({match:n,locator:r.reverse()}),!0;if(void 0!=n.matches){if(n.isGroup&&d!==!0){if(n=s(t.matches[u+1],r))return!0}else if(n.isOptional){var f=n;if(n=a(n,i,r,d)){var v=l[l.length-1].match,m=0==f.matches.indexOf(v);m&&(c=!0),o=p}}else if(n.isQuantifier&&d!==!0)for(var h=n,k=i.length>0&&d!==!0?i.shift():0;k<(isNaN(h.quantifier.max)?k+1:h.quantifier.max)&&e>=o;k++){var g=t.matches[t.matches.indexOf(h)-1];if(n=s(g,[k].concat(r),!0)){var v=l[l.length-1].match;k>h.quantifier.min-1&&(v.optionalQuantifier=!0);var m=0==g.matches.indexOf(v);if(m){if(k>h.quantifier.min-1){c=!0,o=e;break}return!0}return!0}}else if(n=a(n,i,r,d))return!0}else o++}for(var u=i.length>0?i.shift():0;u<t.matches.length;u++)if(t.matches[u].isQuantifier!==!0){var d=s(t.matches[u],[u].concat(n),r);if(d&&o==e)return d;if(o>e)break}}var r=s().maskToken,o=i?n:0,u=i||[0],l=[],c=!1;if(t!==!0&&s().tests[e]&&!s().validPositions[e])return s().tests[e];if(void 0==i){for(var d,p=e-1;void 0==(d=s().validPositions[p])&&p>-1;)p--;if(void 0!=d&&p>-1)o=p,u=d.locator.slice();else{for(p=e-1;void 0==(d=s().tests[p])&&p>-1;)p--;void 0!=d&&p>-1&&(o=p,u=d[0].locator.slice())}}for(var f=u.shift();f<r.length;f++){var v=a(r[f],u,[f]);if(v&&o==e||o>e)break}return(0==l.length||c&&l.length<2)&&l.push({match:{fn:null,cardinality:0,optionality:!0,casing:null,def:""},locator:[]}),s().tests[e]=l,l}function _(){return void 0==s()._buffer&&(s()._buffer=a(!1,1)),s()._buffer}function b(){return void 0==s().buffer&&(s().buffer=a(!0,v(),!0)),s().buffer}function y(t,i){for(var n=b(),a=t;i>a;a++)if(n[a]!=w(a)){var r=g(a,!1)[0];m(a,e.extend({},r,{input:C(n[a],r.match)}),!0)}}function C(e,t){switch(t.casing){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase()}return e}function P(t,n,a,r){function o(t,n,a,r){var o=!1;return e.each(g(t,!a),function(u,l){for(var c=l.match,d=n?1:0,p="",v=b(),h=c.cardinality;h>d;h--)p+=S(t-(h-1));if(n&&(p+=n),o=null!=c.fn?c.fn.test(p,v,t,a,i):n!=c.def&&n!=i.skipOptionalPartCharacter||""==c.def?!1:{c:c.def,pos:t},o!==!1){var k=void 0!=o.c?o.c:n;k=k==i.skipOptionalPartCharacter?c.def:k;var _=t;return o.refreshFromBuffer===!0?(a=!0,_=o.pos,s().validPositions={},y(0,b().length)):o!==!0&&o.pos!=t&&(m(t,e.extend({},l,{input:C(v[t],c)}),a),_=o.pos,y(t+1,_),l=g(_,!a)[0]),u>0&&f(!0),m(_,e.extend({},l,{input:C(k,c)}),a,r)||(o=!1),!1}}),o}a=a===!0;var u=t,l=o(u,n,a,r);if(!a&&(i.insertMode||void 0==s().validPositions[x(u)])&&l===!1&&!E(u))for(var c=u+1,d=x(u);d>=c;c++)if(l=o(c,n,a,r),l!==!1){u=c;break}return l===!0&&(l={pos:u}),l}function E(e){var t=k(e);return null!=t.fn?t.fn:!1}function A(){var e;if(J=z.prop("maxLength"),0==i.greedy){for(var t=v()+1,n=k(t);null!=n.fn||""!=n.def;)if(n=k(++t),n.optionality!==!0){var r=g(t);n=r[r.length-1].match}e=a(!0,t).length,s().tests={}}else e=b().length;return void 0==J||J>e&&J>-1?e:J}function x(e){var t=A();if(e>=t)return t;for(var i=e;++i<t&&!E(i););return i}function M(e){var t=e;if(0>=t)return 0;for(;--t>0&&!E(t););return t}function S(e){return void 0==s().validPositions[e]?w(e):s().validPositions[e].input}function O(e,t,i){e._valueSet(t.join("")),void 0!=i&&R(e,i)}function w(e){var t=k(e);return null==t.fn?t.def:i.placeholder.charAt(e%i.placeholder.length)}function G(t,i,n,a,r){var o=void 0!=a?a.slice():j(t._valueGet()).split("");f(),i&&t._valueSet(""),e.each(o,function(a,o){if(r===!0){var u=s().p,l=-1==u?u:M(u),c=-1==l?a:x(l);-1==e.inArray(o,_().slice(l+1,c))&&W.call(t,void 0,!0,o.charCodeAt(0),i,n,a)}else W.call(t,void 0,!0,o.charCodeAt(0),i,n,a),n=n||a>0&&a>s().p})}function T(t){return e.inputmask.escapeRegex.call(this,t)}function j(e){return e.replace(new RegExp("("+T(_().join(""))+")*$"),"")}function D(e){var t,i=b(),n=i.slice();for(t=n.length-1;t>=0;t--){var a=k(t);if(!a.optionality&&!a.optionalQuantifier||n[t]!=w(t))break;n.pop()}O(e,n)}function K(t,n){if(!t.data("_inputmask")||n!==!0&&t.hasClass("hasDatepicker"))return t[0]._valueGet();var a=e.map(b(),function(e,t){return E(t)&&P(t,e,!0)?e:null}),r=(Z?a.reverse():a).join(""),s=(Z?b().reverse():b()).join("");return e.isFunction(i.onUnMask)?i.onUnMask.call(t,s,r,i):r}function N(e){if(Z&&"number"==typeof e&&(!i.greedy||""!=i.placeholder)){var t=b().length;e=t-e}return e}function R(t,n,a){var r,s=t.jquery&&t.length>0?t[0]:t;return"number"!=typeof n?e(t).is(":visible")?(s.setSelectionRange?(n=s.selectionStart,a=s.selectionEnd):document.selection&&document.selection.createRange&&(r=document.selection.createRange(),n=0-r.duplicate().moveStart("character",-1e5),a=n+r.text.length),n=N(n),a=N(a),{begin:n,end:a}):{begin:0,end:0}:(n=N(n),a=N(a),e(s).is(":visible")&&(a="number"==typeof a?a:n,s.scrollLeft=s.scrollWidth,0==i.insertMode&&n==a&&a++,s.setSelectionRange?(s.selectionStart=n,s.selectionEnd=a):s.createTextRange&&(r=s.createTextRange(),r.collapse(!0),r.moveEnd("character",a),r.moveStart("character",n),r.select())),void 0)}function I(t){if(e.isFunction(i.isComplete))return i.isComplete.call(z,t,i);if("*"==i.repeat)return void 0;var n=!1,a=M(A());if(v()==a){n=!0;for(var r=0;a>=r;r++){var s=E(r);if(s&&(void 0==t[r]||t[r]==w(r))||!s&&t[r]!=w(r)){n=!1;break}}}return n}function F(e,t){return Z?e-t>1||1==e-t&&i.insertMode:t-e>1||1==t-e&&i.insertMode}function L(t){var i=e._data(t).events;e.each(i,function(t,i){e.each(i,function(e,t){if("inputmask"==t.namespace&&"setvalue"!=t.type){var i=t.handler;t.handler=function(e){return this.readOnly||this.disabled?(e.preventDefault,void 0):i.apply(this,arguments)}}})})}function H(t){function i(t){if(void 0==e.valHooks[t]||1!=e.valHooks[t].inputmaskpatch){var i=e.valHooks[t]&&e.valHooks[t].get?e.valHooks[t].get:function(e){return e.value},n=e.valHooks[t]&&e.valHooks[t].set?e.valHooks[t].set:function(e,t){return e.value=t,e};e.valHooks[t]={get:function(t){var n=e(t);if(n.data("_inputmask")){if(n.data("_inputmask").opts.autoUnmask)return n.inputmask("unmaskedvalue");var a=i(t),r=n.data("_inputmask"),s=r.maskset,o=s._buffer;return o=o?o.join(""):"",a!=o?a:""}return i(t)},set:function(t,i){var a=e(t),r=n(t,i);return a.data("_inputmask")&&a.triggerHandler("setvalue.inputmask"),r},inputmaskpatch:!0}}}var n;if(Object.getOwnPropertyDescriptor&&(n=Object.getOwnPropertyDescriptor(t,"value")),n&&n.get){if(!t._valueGet){var a=n.get,r=n.set;t._valueGet=function(){return Z?a.call(this).split("").reverse().join(""):a.call(this)},t._valueSet=function(e){r.call(this,Z?e.split("").reverse().join(""):e)},Object.defineProperty(t,"value",{get:function(){var t=e(this),i=e(this).data("_inputmask"),n=i.maskset;return i&&i.opts.autoUnmask?t.inputmask("unmaskedvalue"):a.call(this)!=n._buffer.join("")?a.call(this):""},set:function(t){r.call(this,t),e(this).triggerHandler("setvalue.inputmask")}})}}else if(document.__lookupGetter__&&t.__lookupGetter__("value")){if(!t._valueGet){var a=t.__lookupGetter__("value"),r=t.__lookupSetter__("value");t._valueGet=function(){return Z?a.call(this).split("").reverse().join(""):a.call(this)},t._valueSet=function(e){r.call(this,Z?e.split("").reverse().join(""):e)},t.__defineGetter__("value",function(){var t=e(this),i=e(this).data("_inputmask"),n=i.maskset;return i&&i.opts.autoUnmask?t.inputmask("unmaskedvalue"):a.call(this)!=n._buffer.join("")?a.call(this):""}),t.__defineSetter__("value",function(t){r.call(this,t),e(this).triggerHandler("setvalue.inputmask")})}}else t._valueGet||(t._valueGet=function(){return Z?this.value.split("").reverse().join(""):this.value},t._valueSet=function(e){this.value=Z?e.split("").reverse().join(""):e}),i(t.type)}function B(e,t,n){if(i.numericInput||Z){switch(t){case i.keyCode.BACKSPACE:t=i.keyCode.DELETE;break;case i.keyCode.DELETE:t=i.keyCode.BACKSPACE}if(Z){var a=n.end;n.end=n.begin,n.begin=a}}if(n.begin==n.end){var r=t==i.keyCode.BACKSPACE?n.begin-1:n.begin;i.isNumeric&&""!=i.radixPoint&&b()[r]==i.radixPoint&&(n.begin=b().length-1==r?n.begin:t==i.keyCode.BACKSPACE?r:x(r),n.end=n.begin),t==i.keyCode.BACKSPACE?n.begin=M(n.begin):t==i.keyCode.DELETE&&n.end++}else 1!=n.end-n.begin||i.insertMode||t==i.keyCode.BACKSPACE&&n.begin--;h(n.begin,n.end);var o=x(-1);s().p=v()<o?o:n.begin}function U(t){X=!1;var n=this,a=e(n),r=t.keyCode,u=R(n);r==i.keyCode.BACKSPACE||r==i.keyCode.DELETE||o&&127==r||t.ctrlKey&&88==r?(t.preventDefault(),88==r&&(Y=b().join("")),B(n,r,u),O(n,b(),s().p),n._valueGet()==_().join("")&&a.trigger("cleared"),i.showTooltip&&a.prop("title",s().mask)):r==i.keyCode.END||r==i.keyCode.PAGE_DOWN?setTimeout(function(){var e=x(v());i.insertMode||e!=A()||t.shiftKey||e--,R(n,t.shiftKey?u.begin:e,e)},0):r==i.keyCode.HOME&&!t.shiftKey||r==i.keyCode.PAGE_UP?R(n,0,t.shiftKey?u.begin:0):r==i.keyCode.ESCAPE||90==r&&t.ctrlKey?(G(n,!0,!1,Y.split("")),a.click()):r!=i.keyCode.INSERT||t.shiftKey||t.ctrlKey?0!=i.insertMode||t.shiftKey||(r==i.keyCode.RIGHT?setTimeout(function(){var e=R(n);R(n,e.begin)},0):r==i.keyCode.LEFT&&setTimeout(function(){var e=R(n);R(n,e.begin-1)},0)):(i.insertMode=!i.insertMode,R(n,i.insertMode||u.begin!=A()?u.begin:u.begin-1));var l=R(n),c=i.onKeyDown.call(this,t,b(),i);c&&c.refreshFromBuffer===!0&&(s().validPositions={},y(0,b().length),R(n,l.begin,l.end)),tt=-1!=e.inArray(r,i.ignorables)}function W(t,n,a,r,o,u){if(void 0==a&&X)return!1;X=!0;var l=this,c=e(l);t=t||window.event;var a=n?a:t.which||t.charCode||t.keyCode;if(!(n===!0||t.ctrlKey&&t.altKey||!(t.ctrlKey||t.metaKey||tt)))return!0;if(a){n!==!0&&46==a&&0==t.shiftKey&&","==i.radixPoint&&(a=44);var d,p,h=String.fromCharCode(a);if(n){var k=o?u:v()+1;d={begin:k,end:k}}else d=R(l);var g=F(d.begin,d.end);g&&(s().undoPositions=e.extend(!0,{},s().validPositions),B(l,i.keyCode.DELETE,d),i.insertMode||(i.insertMode=!i.insertMode,m(d.begin,void 0,o),i.insertMode=!i.insertMode));var _=b().join("").indexOf(i.radixPoint);i.isNumeric&&n!==!0&&-1!=_&&(i.greedy&&d.begin<=_?(d.begin=M(d.begin),d.end=d.begin):h==i.radixPoint&&(d.begin=_,d.end=d.begin)),s().writeOutBuffer=!0;var y=d.begin,C=P(y,h,o);if(C!==!1&&(C!==!0&&(y=void 0!=C.pos?C.pos:y,h=void 0!=C.c?C.c:h),f(!0),p=x(y),s().p=p),r!==!1){var E=this;if(setTimeout(function(){i.onKeyValidation.call(E,C,i)},0),s().writeOutBuffer&&C!==!1){var A,S=b();A=n?void 0:i.numericInput?y>_?M(p):h==i.radixPoint?p-1:M(p-1):p,O(l,S,A),n!==!0&&setTimeout(function(){I(S)===!0&&c.trigger("complete"),et=!0,c.trigger("input")},0)}else g&&(s().buffer=void 0,s().validPositions=s().undoPositions)}else g&&(s().buffer=void 0,s().validPositions=s().undoPositions);i.showTooltip&&c.prop("title",s().mask),t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)}}function q(t){var n=e(this),a=this,r=t.keyCode,o=b(),u=i.onKeyUp.call(this,t,o,i);u&&u.refreshFromBuffer===!0&&(s().validPositions={},y(0,b().length)),r==i.keyCode.TAB&&i.showMaskOnFocus&&(n.hasClass("focus.inputmask")&&0==a._valueGet().length?(f(),o=b(),O(a,o),R(a,0),Y=b().join("")):(O(a,o),o.join("")==_().join("")&&-1!=e.inArray(i.radixPoint,o)?(R(a,N(0)),n.click()):R(a,N(0),N(A()))))}function V(t){if(et===!0&&"input"==t.type)return et=!1,!0;var n=this,a=e(n);return"propertychange"==t.type&&n._valueGet().length<=A()?!0:(setTimeout(function(){var t=e.isFunction(i.onBeforePaste)?i.onBeforePaste.call(n,n._valueGet(),i):n._valueGet();G(n,!1,!1,t.split(""),!0),O(n,b()),I(b())===!0&&a.trigger("complete"),a.click()},0),void 0)}function $(t){var n=this,a=e(n),r=R(n),s=n._valueGet();s=s.replace(new RegExp("("+T(_().join(""))+")*"),""),r.begin>s.length&&(R(n,s.length),r=R(n)),1!=b().length-s.length||s.charAt(r.begin)==b()[r.begin]||s.charAt(r.begin+1)==b()[r.begin]||E(r.begin)?(G(n,!1,!1,s.split("")),O(n,b()),I(b())===!0&&a.trigger("complete"),a.click()):(t.keyCode=i.keyCode.BACKSPACE,U.call(n,t)),t.preventDefault()}function Q(n){if(z=e(n),z.is(":input")){if(z.data("_inputmask",{maskset:t,opts:i,isRTL:!1}),i.showTooltip&&z.prop("title",s().mask),H(n),i.numericInput&&(i.isNumeric=i.numericInput),("rtl"==n.dir||i.numericInput&&i.rightAlignNumerics||i.isNumeric&&i.rightAlignNumerics)&&z.css("text-align","right"),"rtl"==n.dir||i.numericInput){n.dir="ltr",z.removeAttr("dir");var a=z.data("_inputmask");a.isRTL=!0,z.data("_inputmask",a),Z=!0}z.unbind(".inputmask"),z.removeClass("focus.inputmask"),z.closest("form").bind("submit",function(){Y!=b().join("")&&z.change()}).bind("reset",function(){setTimeout(function(){z.trigger("setvalue")},0)}),z.bind("mouseenter.inputmask",function(){var t=e(this),n=this;!t.hasClass("focus.inputmask")&&i.showMaskOnHover&&n._valueGet()!=b().join("")&&O(n,b())}).bind("blur.inputmask",function(){var t=e(this),n=this,a=n._valueGet(),r=b();t.removeClass("focus.inputmask"),Y!=b().join("")&&t.change(),i.clearMaskOnLostFocus&&""!=a&&(a==_().join("")?n._valueSet(""):D(n)),I(r)===!1&&(t.trigger("incomplete"),i.clearIncomplete&&(f(),i.clearMaskOnLostFocus?n._valueSet(""):(r=_().slice(),O(n,r))))}).bind("focus.inputmask",function(){var t=e(this),n=this,a=n._valueGet();i.showMaskOnFocus&&!t.hasClass("focus.inputmask")&&(!i.showMaskOnHover||i.showMaskOnHover&&""==a)&&n._valueGet()!=b().join("")&&O(n,b(),x(v())),t.addClass("focus.inputmask"),Y=b().join("")}).bind("mouseleave.inputmask",function(){var t=e(this),n=this;i.clearMaskOnLostFocus&&(t.hasClass("focus.inputmask")||n._valueGet()==t.attr("placeholder")||(n._valueGet()==_().join("")||""==n._valueGet()?n._valueSet(""):D(n)))}).bind("click.inputmask",function(){var t=this;setTimeout(function(){var n=R(t),a=b();if(n.begin==n.end){var r,s=Z?N(n.begin):n.begin,o=v(s);r=i.isNumeric?i.skipRadixDance===!1&&""!=i.radixPoint&&-1!=e.inArray(i.radixPoint,a)?i.numericInput?x(e.inArray(i.radixPoint,a)):e.inArray(i.radixPoint,a):x(o):x(o),r>s?E(s)?R(t,s):R(t,x(s)):R(t,r)}},0)}).bind("dblclick.inputmask",function(){var e=this;setTimeout(function(){R(e,0,x(v()))},0)}).bind(p+".inputmask dragdrop.inputmask drop.inputmask",V).bind("setvalue.inputmask",function(){var e=this;G(e,!0),Y=b().join(""),e._valueGet()==_().join("")&&e._valueSet("")}).bind("complete.inputmask",i.oncomplete).bind("incomplete.inputmask",i.onincomplete).bind("cleared.inputmask",i.oncleared),z.bind("keydown.inputmask",U).bind("keypress.inputmask",W).bind("keyup.inputmask",q),(u||c||l||d)&&(z.attr("autocomplete","off").attr("autocorrect","off").attr("autocapitalize","off").attr("spellcheck",!1),(c||d)&&(z.unbind("keydown.inputmask",U).unbind("keypress.inputmask",W).unbind("keyup.inputmask",q),"input"==p&&z.unbind(p+".inputmask"),z.bind("input.inputmask",$))),r&&z.bind("input.inputmask",V);var o=e.isFunction(i.onBeforeMask)?i.onBeforeMask.call(n,n._valueGet(),i):n._valueGet();G(n,!0,!1,o.split(""),!0),Y=b().join("");var m;try{m=document.activeElement}catch(h){}m===n?(z.addClass("focus.inputmask"),R(n,x(v()))):i.clearMaskOnLostFocus?b().join("")==_().join("")?n._valueSet(""):D(n):O(n,b()),L(n)}}var z,J,Z=!1,Y=b().join(""),X=!1,et=!1,tt=!1;if(void 0!=n)switch(n.action){case"isComplete":return I(n.buffer);case"unmaskedvalue":return z=n.$input,Z=n.$input.data("_inputmask").isRTL,K(n.$input,n.skipDatepickerCheck);case"mask":Q(n.el);break;case"format":z=e({}),z.data("_inputmask",{maskset:t,opts:i,isRTL:i.numericInput}),i.numericInput&&(i.isNumeric=i.numericInput,Z=!0);var it=n.value.split("");return G(z,!1,!1,Z?it.reverse():it,!0),Z?b().reverse().join(""):b().join("");case"isValid":z=e({}),z.data("_inputmask",{maskset:t,opts:i,isRTL:i.numericInput}),i.numericInput&&(i.isNumeric=i.numericInput,Z=!0);var it=n.value.split("");return G(z,!1,!0,Z?it.reverse():it),I(b())}}if(void 0===e.fn.inputmask){var r="function"==typeof ScriptEngineMajorVersion?ScriptEngineMajorVersion():new Function("/*@cc_on return @_jscript_version; @*/")()>=10,s=navigator.userAgent,o=null!==s.match(new RegExp("iphone","i")),u=null!==s.match(new RegExp("android.*safari.*","i")),l=null!==s.match(new RegExp("android.*chrome.*","i")),c=null!==s.match(new RegExp("android.*firefox.*","i")),d=/Kindle/i.test(s)||/Silk/i.test(s)||/KFTT/i.test(s)||/KFOT/i.test(s)||/KFJWA/i.test(s)||/KFJWI/i.test(s)||/KFSOWI/i.test(s)||/KFTHWA/i.test(s)||/KFTHWI/i.test(s)||/KFAPWA/i.test(s)||/KFAPWI/i.test(s),p=t("paste")?"paste":t("input")?"input":"propertychange";e.inputmask={defaults:{placeholder:"_",optionalmarker:{start:"[",end:"]"},quantifiermarker:{start:"{",end:"}"},groupmarker:{start:"(",end:")"},escapeChar:"\\",mask:null,oncomplete:e.noop,onincomplete:e.noop,oncleared:e.noop,repeat:0,greedy:!0,autoUnmask:!1,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,aliases:{},onKeyUp:e.noop,onKeyDown:e.noop,onBeforeMask:void 0,onBeforePaste:void 0,onUnMask:void 0,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:e.noop,skipOptionalPartCharacter:" ",showTooltip:!1,numericInput:!1,isNumeric:!1,radixPoint:"",skipRadixDance:!1,rightAlignNumerics:!0,definitions:{9:{validator:"[0-9]",cardinality:1,definitionSymbol:"*"},a:{validator:"[A-Za-zА-яЁё]",cardinality:1,definitionSymbol:"*"},"*":{validator:"[A-Za-zА-яЁё0-9]",cardinality:1}},keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91},ignorables:[8,9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123],isComplete:void 0},masksCache:{},escapeRegex:function(e){var t=["/",".","*","+","?","|","(",")","[","]","{","}","\\"];return e.replace(new RegExp("(\\"+t.join("|\\")+")","gim"),"\\$1")},format:function(t,r){var s=e.extend(!0,{},e.inputmask.defaults,r);return i(s.alias,r,s),a(n(s),s,{action:"format",value:t})},isValid:function(t,r){var s=e.extend(!0,{},e.inputmask.defaults,r);return i(s.alias,r,s),a(n(s),s,{action:"isValid",value:t})}},e.fn.inputmask=function(t,r){var s,o=e.extend(!0,{},e.inputmask.defaults,r);if("string"==typeof t)switch(t){case"mask":return i(o.alias,r,o),s=n(o),0==s.length?this:this.each(function(){a(e.extend(!0,{},s),0,o,{action:"mask",el:this})});case"unmaskedvalue":var u=e(this);return u.data("_inputmask")?(s=u.data("_inputmask").maskset,o=u.data("_inputmask").opts,a(s,o,{action:"unmaskedvalue",$input:u})):u.val();case"remove":return this.each(function(){var t=e(this),i=this;if(t.data("_inputmask")){s=t.data("_inputmask").maskset,o=t.data("_inputmask").opts,i._valueSet(a(s,o,{action:"unmaskedvalue",$input:t,skipDatepickerCheck:!0})),t.removeData("_inputmask"),t.unbind(".inputmask"),t.removeClass("focus.inputmask");var n;Object.getOwnPropertyDescriptor&&(n=Object.getOwnPropertyDescriptor(i,"value")),n&&n.get?i._valueGet&&Object.defineProperty(i,"value",{get:i._valueGet,set:i._valueSet}):document.__lookupGetter__&&i.__lookupGetter__("value")&&i._valueGet&&(i.__defineGetter__("value",i._valueGet),i.__defineSetter__("value",i._valueSet));try{delete i._valueGet,delete i._valueSet}catch(r){i._valueGet=void 0,i._valueSet=void 0}}});case"getemptymask":return this.data("_inputmask")?(s=this.data("_inputmask").maskset,s._buffer.join("")):"";case"hasMaskedValue":return this.data("_inputmask")?!this.data("_inputmask").opts.autoUnmask:!1;case"isComplete":return this.data("_inputmask")?(s=this.data("_inputmask").maskset,o=this.data("_inputmask").opts,a(s,o,{action:"isComplete",buffer:this[0]._valueGet().split("")})):!0;case"getmetadata":return this.data("_inputmask")?(s=this.data("_inputmask").maskset,s.metadata):void 0;default:return i(t,r,o)||(o.mask=t),s=n(o),void 0==s?this:this.each(function(){a(e.extend(!0,{},s),o,{action:"mask",el:this})})}else{if("object"==typeof t)return o=e.extend(!0,{},e.inputmask.defaults,t),i(o.alias,t,o),s=n(o),void 0==s?this:this.each(function(){a(e.extend(!0,{},s),o,{action:"mask",el:this})});if(void 0==t)return this.each(function(){var t=e(this).attr("data-inputmask");if(t&&""!=t)try{t=t.replace(new RegExp("'","g"),'"');var n=e.parseJSON("{"+t+"}");e.extend(!0,n,r),o=e.extend(!0,{},e.inputmask.defaults,n),i(o.alias,n,o),o.alias=void 0,e(this).inputmask(o)}catch(a){}})}}}}(jQuery);