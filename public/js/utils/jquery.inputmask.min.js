(function(e){if(e.fn.inputmask===undefined){function t(e){var t=document.createElement("input"),e="on"+e,n=e in t;if(!n){t.setAttribute(e,"return;");n=typeof t[e]=="function"}t=null;return n}function n(t,r,i){var s=i.aliases[t];if(s){if(s.alias)n(s.alias,undefined,i);e.extend(true,i,s);e.extend(true,i,r);return true}return false}function r(t){function r(e){function i(e,t,n){this.matches=[];this.isGroup=e||false;this.isOptional=t||false;this.isQuantifier=n||false;this.quantifier={min:1,max:1}}function s(e,n,i){var s=t.definitions[n];i=i!=undefined?i:e.matches.length;if(s&&!r){var o=s["prevalidator"],u=o?o.length:0;for(var a=1;a<s.cardinality;a++){var f=u>=a?o[a-1]:[],l=f["validator"],c=f["cardinality"];e.matches.splice(i++,0,{fn:l?typeof l=="string"?new RegExp(l):new function(){this.test=l}:new RegExp("."),cardinality:c?c:1,optionality:e.isOptional,casing:s["casing"],def:s["definitionSymbol"]||n})}e.matches.splice(i++,0,{fn:s.validator?typeof s.validator=="string"?new RegExp(s.validator):new function(){this.test=s.validator}:new RegExp("."),cardinality:s.cardinality,optionality:e.isOptional,casing:s["casing"],def:s["definitionSymbol"]||n})}else{e.matches.splice(i++,0,{fn:null,cardinality:0,optionality:e.isOptional,casing:null,def:n});r=false}}var n=/(?:[?*+]|\{[0-9]+(?:,[0-9\+\*]*)?\})\??|[^.?*+^${[]()|\\]+|./g,r=false;var o=new i,u,a,f=[],l=[];while(u=n.exec(e)){a=u[0];switch(a.charAt(0)){case t.optionalmarker.end:case t.groupmarker.end:var c=f.pop();if(f.length>0){f[f.length-1]["matches"].push(c)}else{o.matches.push(c)}break;case t.optionalmarker.start:f.push(new i(false,true));break;case t.groupmarker.start:f.push(new i(true));break;case t.quantifiermarker.start:var h=new i(false,false,true);a=a.replace(/[{}]/g,"");var p=a.split(","),d=isNaN(p[0])?p[0]:parseInt(p[0]),v=p.length==1?d:isNaN(p[1])?p[1]:parseInt(p[1]);h.quantifier={min:d,max:v};if(v=="*"||v=="+")t.greedy=false;if(f.length>0){var m=f[f.length-1]["matches"];var u=m.pop();if(!u["isGroup"]){var g=new i(true);g.matches.push(u);u=g}m.push(u);m.push(h)}else{var u=o.matches.pop();if(!u["isGroup"]){var g=new i(true);g.matches.push(u);u=g}o.matches.push(u);o.matches.push(h)}break;case t.escapeChar:r=true;break;default:if(f.length>0){s(f[f.length-1],a)}else{if(o.matches.length>0){var y=o.matches[o.matches.length-1];if(y["isGroup"]){y.isGroup=false;s(y,t.groupmarker.start,0);s(y,t.groupmarker.end)}}s(o,a)}}}if(o.matches.length>0)l.push(o);return l}function i(n,i){if(t.numericInput){n=n.split("").reverse().join("")}if(n==undefined||n=="")return undefined;else{if(t.repeat>0||t.repeat=="*"||t.repeat=="+"){var s=t.repeat=="*"?0:t.repeat=="+"?1:t.repeat;n=t.groupmarker.start+n+t.groupmarker.end+t.quantifiermarker.start+s+","+t.repeat+t.quantifiermarker.end}if(e.inputmask.masksCache[n]==undefined){e.inputmask.masksCache[n]={mask:n,maskToken:r(n),validPositions:{},_buffer:undefined,buffer:undefined,tests:{},metadata:i}}return e.extend(true,{},e.inputmask.masksCache[n])}}var n=[];if(e.isFunction(t.mask)){t.mask=t.mask.call(this,t)}if(e.isArray(t.mask)){e.each(t.mask,function(e,t){if(t["mask"]!=undefined){n.push(i(t["mask"].toString(),t))}else{n.push(i(t.toString()))}})}else{if(t.mask.length==1&&t.greedy==false&&t.repeat!=0){t.placeholder=""}if(t.mask["mask"]!=undefined){n=i(t.mask["mask"].toString(),t.mask)}else{n=i(t.mask.toString())}}return n}var i=typeof ScriptEngineMajorVersion==="function"?ScriptEngineMajorVersion():(new Function("/*@cc_on return @_jscript_version; @*/"))()>=10,s=navigator.userAgent,o=s.match(new RegExp("iphone","i"))!==null,u=s.match(new RegExp("android.*safari.*","i"))!==null,a=s.match(new RegExp("android.*chrome.*","i"))!==null,f=s.match(new RegExp("android.*firefox.*","i"))!==null,l=/Kindle/i.test(s)||/Silk/i.test(s)||/KFTT/i.test(s)||/KFOT/i.test(s)||/KFJWA/i.test(s)||/KFJWI/i.test(s)||/KFSOWI/i.test(s)||/KFTHWA/i.test(s)||/KFTHWI/i.test(s)||/KFAPWA/i.test(s)||/KFAPWI/i.test(s),c=t("paste")?"paste":t("input")?"input":"propertychange";function h(t,n,r){function y(e,t,r){t=t||0;var i=[],s,o=0,u;do{if(e===true&&b()["validPositions"][o]){var a=b()["validPositions"][o];u=a["match"];s=a["locator"].slice();i.push(u["fn"]==null?u["def"]:r===true?a["input"]:n.placeholder.charAt(o%n.placeholder.length))}else{var f=N(o,false,s,o-1);f=f[n.greedy||t>o?0:f.length-1];u=f["match"];s=f["locator"].slice();i.push(u["fn"]==null?u["def"]:n.placeholder.charAt(o%n.placeholder.length))}o++}while((g==undefined||o-1<g)&&u["fn"]!=null||u["fn"]==null&&u["def"]!=""||t>=o);i.pop();return i}function b(){return t}function w(e){var t=b();t["buffer"]=undefined;t["tests"]={};if(e!==true){t["_buffer"]=undefined;t["validPositions"]={};t["p"]=-1}}function E(e){var t=b();var n=-1;for(var r in t["validPositions"]){var i=parseInt(r);if(i>n)n=i}return n}function S(t,r,i,s){if(n.insertMode&&b()["validPositions"][t]!=undefined&&s==undefined){var o=e.extend(true,{},b()["validPositions"]);for(var u=P(_());u>t&&u>=0;u--){if(M(u)){var a=P(u);var f=b()["validPositions"][a];if(f!=undefined){if(T(u).def==T(a).def&&b()["validPositions"][u]==undefined&&O(u,f["input"],i,true)!==false){delete b()["validPositions"][a]}}}}if(b()["validPositions"][t]==undefined){b()["validPositions"][t]=r}else{b()["validPositions"]=e.extend(true,{},o);return false}}else b()["validPositions"][t]=r;return true}function x(e,t){var n,r,i=D(e-1);for(n=e;n<t;n++){delete b()["validPositions"][n]}for(n=t,r=_();n<r;n++){var s=b()["validPositions"][n];var o=b()["validPositions"][i];if(s!=undefined&&o==undefined){if(T(i).def==s.match.def&&O(i,s["input"],true)!==false){delete b()["validPositions"][n]}i=D(i)}}w(true)}function T(e){if(b()["validPositions"][e]){return b()["validPositions"][e]["match"]}return N(e)[0]["match"]}function N(e,t,n,r){function f(t,n,r,i){function o(r,i,c){var h=s;if(s==e&&r.matches==undefined){u.push({match:r,locator:i.reverse()});return true}else if(r.matches!=undefined){if(r.isGroup&&c!==true){r=o(t.matches[l+1],i);if(r)return true}else if(r.isOptional){var p=r;r=f(r,n,i,c);if(r){var d=u[u.length-1]["match"];var v=p.matches.indexOf(d)==0;if(v){a=true}s=h}}else if(r.isQuantifier&&c!==true){var m=r;for(var g=n.length>0&&c!==true?n.shift():0;g<(isNaN(m.quantifier.max)?g+1:m.quantifier.max)&&s<=e;g++){var y=t.matches[t.matches.indexOf(m)-1];r=o(y,[g].concat(i),true);if(r){var d=u[u.length-1]["match"];if(g>m.quantifier.min-1){d.optionalQuantifier=true}var v=y.matches.indexOf(d)==0;if(v){if(g>m.quantifier.min-1){a=true;s=e;break}else return true}else{return true}}}}else{r=f(r,n,i,c);if(r)return true}}else s++}for(var l=n.length>0?n.shift():0;l<t.matches.length;l++){if(t.matches[l]["isQuantifier"]!==true){var c=o(t.matches[l],[l].concat(r),i);if(c&&s==e){return c}else if(s>e){break}}}}var i=b()["maskToken"],s=n?r:0,o=n||[0],u=[],a=false;if(t!==true&&b()["tests"][e]&&!b()["validPositions"][e]){return b()["tests"][e]}if(n==undefined){var l=e-1,c;while((c=b()["validPositions"][l])==undefined&&l>-1){l--}if(c!=undefined&&l>-1){s=l;o=c["locator"].slice()}else{l=e-1;while((c=b()["tests"][l])==undefined&&l>-1){l--}if(c!=undefined&&l>-1){s=l;o=c[0]["locator"].slice()}}}for(var h=o.shift();h<i.length;h++){var p=f(i[h],o,[h]);if(p&&s==e||s>e){break}}if(u.length==0||a&&u.length<2)u.push({match:{fn:null,cardinality:0,optionality:true,casing:null,def:""},locator:[]});b()["tests"][e]=u;return u}function C(){if(b()["_buffer"]==undefined){b()["_buffer"]=y(false,1)}return b()["_buffer"]}function k(){if(b()["buffer"]==undefined){b()["buffer"]=y(true,E(),true)}return b()["buffer"]}function L(t,n){var r=k();for(var i=t;i<n;i++){if(r[i]!=j(i)){var s=N(i,false)[0];S(i,e.extend({},s,{input:A(r[i],s["match"])}),true)}}}function A(e,t){switch(t.casing){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase();break}return e}function O(t,r,i,s){function o(t,r,i,s){var o=false;e.each(N(t,!i),function(u,a){var f=a["match"];var l=r?1:0,c="",h=k();for(var p=f.cardinality;p>l;p--){c+=H(t-(p-1))}if(r){c+=r}o=f.fn!=null?f.fn.test(c,h,t,i,n):(r==f["def"]||r==n.skipOptionalPartCharacter)&&f["def"]!=""?{c:f["def"],pos:t}:false;if(o!==false){var d=o.c!=undefined?o.c:r;d=d==n.skipOptionalPartCharacter?f["def"]:d;var v=t;if(o["refreshFromBuffer"]){var m=o["refreshFromBuffer"];i=true;v=o.pos!=undefined?o.pos:t;a=N(v,!i)[0];if(m===true){b()["validPositions"]={};L(0,k().length)}else{L(m["start"],m["end"])}}else if(o!==true&&o["pos"]!=t){S(t,e.extend({},a,{input:A(h[t],f)}),i);v=o["pos"];L(t+1,v);a=N(v,!i)[0]}if(u>0){w(true)}if(!S(v,e.extend({},a,{input:A(d,f)}),i,s))o=false;return false}});return o}i=i===true;var u=t;var a=o(u,r,i,s);if(!i&&(n.insertMode||b()["validPositions"][D(u)]==undefined)&&a===false&&!M(u)){for(var f=u+1,l=D(u);f<=l;f++){a=o(f,r,i,s);if(a!==false){u=f;break}}}if(a===true)a={pos:u};return a}function M(e){var t=T(e);return t.fn!=null?t.fn:false}function _(){var e;g=p.prop("maxLength");if(g==-1)g=undefined;if(n.greedy==false){var t=E()+1,r=T(t);while(!(r.fn==null&&r.def=="")){r=T(++t);if(r.optionality!==true){var i=N(t);r=i[i.length-1]["match"]}}e=y(true,t).length;b()["tests"]={}}else e=k().length;return g==undefined||e<g?e:g}function D(e){var t=_();if(e>=t)return t;var r=e;while(++r<t&&!M(r)&&(n.nojumps!==true||n.nojumpsThreshold>r)){}return r}function P(e){var t=e;if(t<=0)return 0;while(--t>0&&!M(t)){}return t}function H(e){return b()["validPositions"][e]==undefined?j(e):b()["validPositions"][e]["input"]}function B(e,t,n){e._valueSet(t.join(""));if(n!=undefined){W(e,n)}}function j(e){var t=T(e);return t["fn"]==null?t["def"]:n.placeholder.charAt(e%n.placeholder.length)}function F(t,n,r,i,s){var o=i!=undefined?i.slice():q(t._valueGet()).split("");w();if(n)t._valueSet("");e.each(o,function(i,o){if(s===true){var u=b()["p"],a=u==-1?u:P(u),f=a==-1?i:D(a);if(e.inArray(o,C().slice(a+1,f))==-1){Y.call(t,undefined,true,o.charCodeAt(0),n,r,i)}}else{Y.call(t,undefined,true,o.charCodeAt(0),n,r,i);r=r||i>0&&i>b()["p"]}})}function I(t){return e.inputmask.escapeRegex.call(this,t)}function q(e){return e.replace(new RegExp("("+I(C().join(""))+")*$"),"")}function R(e){var t=k(),n=t.slice(),r;for(r=n.length-1;r>=0;r--){var i=T(r);if((i.optionality||i.optionalQuantifier)&&n[r]==j(r)){n.pop()}else break}B(e,n)}function U(t,r){if(t.data("_inputmask")&&(r===true||!t.hasClass("hasDatepicker"))){var i=e.map(k(),function(e,t){return M(t)&&O(t,e,true)?e:null});var o=(s?i.reverse():i).join("");var u=(s?k().reverse():k()).join("");return e.isFunction(n.onUnMask)?n.onUnMask.call(t,u,o,n):o}else{return t[0]._valueGet()}}function z(e){if(s&&typeof e=="number"&&(!n.greedy||n.placeholder!="")){var t=k().length;e=t-e}return e}function W(t,r,i){var s=t.jquery&&t.length>0?t[0]:t,o;if(typeof r=="number"){r=z(r);i=z(i);i=typeof i=="number"?i:r;var u=e(s).data("_inputmask")||{};u["caret"]={begin:r,end:i};e(s).data("_inputmask",u);if(!e(s).is(":visible")){return}s.scrollLeft=s.scrollWidth;if(n.insertMode==false&&r==i)i++;if(s.setSelectionRange){s.selectionStart=r;s.selectionEnd=i}else if(s.createTextRange){o=s.createTextRange();o.collapse(true);o.moveEnd("character",i);o.moveStart("character",r);o.select()}}else{var u=e(s).data("_inputmask");if(!e(s).is(":visible")&&u&&u["caret"]!=undefined){r=u["caret"]["begin"];i=u["caret"]["end"]}else if(s.setSelectionRange){r=s.selectionStart;i=s.selectionEnd}else if(document.selection&&document.selection.createRange){o=document.selection.createRange();r=0-o.duplicate().moveStart("character",-1e5);i=r+o.text.length}r=z(r);i=z(i);return{begin:r,end:i}}}function X(t){if(e.isFunction(n.isComplete))return n.isComplete.call(p,t,n);if(n.repeat=="*")return undefined;var r=false,i=P(_());if(E()==i){r=true;for(var s=0;s<=i;s++){var o=M(s);if(o&&(t[s]==undefined||t[s]==j(s))||!o&&t[s]!=j(s)){r=false;break}}}return r}function V(e,t){return s?e-t>1||e-t==1&&n.insertMode:t-e>1||t-e==1&&n.insertMode}function J(t){var n=e._data(t).events;e.each(n,function(t,n){e.each(n,function(e,t){if(t.namespace=="inputmask"){if(t.type!="setvalue"){var n=t.handler;t.handler=function(e){if(this.readOnly||this.disabled)e.preventDefault;else return n.apply(this,arguments)}}}})})}function K(t){function n(t){if(e.valHooks[t]==undefined||e.valHooks[t].inputmaskpatch!=true){var n=e.valHooks[t]&&e.valHooks[t].get?e.valHooks[t].get:function(e){return e.value};var r=e.valHooks[t]&&e.valHooks[t].set?e.valHooks[t].set:function(e,t){e.value=t;return e};e.valHooks[t]={get:function(t){var r=e(t);if(r.data("_inputmask")){if(r.data("_inputmask")["opts"].autoUnmask)return r.inputmask("unmaskedvalue");else{var i=n(t),s=r.data("_inputmask"),o=s["maskset"],u=o["_buffer"];u=u?u.join(""):"";return i!=u?i:""}}else return n(t)},set:function(t,n){var i=e(t);var s=r(t,n);if(i.data("_inputmask"))i.triggerHandler("setvalue.inputmask");return s},inputmaskpatch:true}}}var r;if(Object.getOwnPropertyDescriptor)r=Object.getOwnPropertyDescriptor(t,"value");if(r&&r.get){if(!t._valueGet){var i=r.get;var o=r.set;t._valueGet=function(){return s?i.call(this).split("").reverse().join(""):i.call(this)};t._valueSet=function(e){o.call(this,s?e.split("").reverse().join(""):e)};Object.defineProperty(t,"value",{get:function(){var t=e(this),n=e(this).data("_inputmask"),r=n["maskset"];return n&&n["opts"].autoUnmask?t.inputmask("unmaskedvalue"):i.call(this)!=r["_buffer"].join("")?i.call(this):""},set:function(t){o.call(this,t);e(this).triggerHandler("setvalue.inputmask")}})}}else if(document.__lookupGetter__&&t.__lookupGetter__("value")){if(!t._valueGet){var i=t.__lookupGetter__("value");var o=t.__lookupSetter__("value");t._valueGet=function(){return s?i.call(this).split("").reverse().join(""):i.call(this)};t._valueSet=function(e){o.call(this,s?e.split("").reverse().join(""):e)};t.__defineGetter__("value",function(){var t=e(this),n=e(this).data("_inputmask"),r=n["maskset"];return n&&n["opts"].autoUnmask?t.inputmask("unmaskedvalue"):i.call(this)!=r["_buffer"].join("")?i.call(this):""});t.__defineSetter__("value",function(t){o.call(this,t);e(this).triggerHandler("setvalue.inputmask")})}}else{if(!t._valueGet){t._valueGet=function(){return s?this.value.split("").reverse().join(""):this.value};t._valueSet=function(e){this.value=s?e.split("").reverse().join(""):e}}n(t.type)}}function Q(e,t,r){if(n.numericInput||s){switch(t){case n.keyCode.BACKSPACE:t=n.keyCode.DELETE;break;case n.keyCode.DELETE:t=n.keyCode.BACKSPACE;break}if(s){var i=r.end;r.end=r.begin;r.begin=i}}if(r.begin==r.end){var o=t==n.keyCode.BACKSPACE?r.begin-1:r.begin;if(n.isNumeric&&n.radixPoint!=""&&k()[o]==n.radixPoint){r.begin=k().length-1==o?r.begin:t==n.keyCode.BACKSPACE?o:D(o);r.end=r.begin}if(t==n.keyCode.BACKSPACE)r.begin=P(r.begin);else if(t==n.keyCode.DELETE)r.end++}else if(r.end-r.begin==1&&!n.insertMode){if(t==n.keyCode.BACKSPACE)r.begin--}x(r.begin,r.end);var u=D(-1);if(E()<u){b()["p"]=u}else{b()["p"]=r.begin}}function G(t){d=false;var r=this,i=e(r),s=t.keyCode,u=W(r);if(s==n.keyCode.BACKSPACE||s==n.keyCode.DELETE||o&&s==127||t.ctrlKey&&s==88){t.preventDefault();if(s==88)h=k().join("");Q(r,s,u);B(r,k(),b()["p"]);if(r._valueGet()==C().join(""))i.trigger("cleared");if(n.showTooltip){i.prop("title",b()["mask"])}}else if(s==n.keyCode.END||s==n.keyCode.PAGE_DOWN){setTimeout(function(){var e=D(E());if(!n.insertMode&&e==_()&&!t.shiftKey)e--;W(r,t.shiftKey?u.begin:e,e)},0)}else if(s==n.keyCode.HOME&&!t.shiftKey||s==n.keyCode.PAGE_UP){W(r,0,t.shiftKey?u.begin:0)}else if(s==n.keyCode.ESCAPE||s==90&&t.ctrlKey){F(r,true,false,h.split(""));i.click()}else if(s==n.keyCode.INSERT&&!(t.shiftKey||t.ctrlKey)){n.insertMode=!n.insertMode;W(r,!n.insertMode&&u.begin==_()?u.begin-1:u.begin)}else if(n.insertMode==false&&!t.shiftKey){if(s==n.keyCode.RIGHT){setTimeout(function(){var e=W(r);W(r,e.begin)},0)}else if(s==n.keyCode.LEFT){setTimeout(function(){var e=W(r);W(r,e.begin-1)},0)}}var a=W(r);var f=n.onKeyDown.call(this,t,k(),n);if(f&&f["refreshFromBuffer"]===true){b()["validPositions"]={};L(0,k().length);W(r,a.begin,a.end)}m=e.inArray(s,n.ignorables)!=-1}function Y(t,r,i,s,o,u){if(i==undefined&&d)return false;d=true;var a=this,f=e(a);t=t||window.event;var i=r?i:t.which||t.charCode||t.keyCode;if(r!==true&&!(t.ctrlKey&&t.altKey)&&(t.ctrlKey||t.metaKey||m)){return true}else{if(i){if(r!==true&&i==46&&t.shiftKey==false&&n.radixPoint==",")i=44;var l,c,h=String.fromCharCode(i);if(r){var p=o?u:E()+1;l={begin:p,end:p}}else{l=W(a)}var g=V(l.begin,l.end);if(g){b()["undoPositions"]=e.extend(true,{},b()["validPositions"]);Q(a,n.keyCode.DELETE,l);if(!n.insertMode){n.insertMode=!n.insertMode;S(l.begin,undefined,o);n.insertMode=!n.insertMode}g=!n.multi}var y=k().join("").indexOf(n.radixPoint);if(n.isNumeric&&r!==true&&y!=-1){if(n.greedy&&l.begin<=y){l.begin=P(l.begin);l.end=l.begin}else if(h==n.radixPoint){l.begin=y;l.end=l.begin}}b()["writeOutBuffer"]=true;var x=l.begin;var T=O(x,h,o);if(T!==false){if(T!==true){x=T.pos!=undefined?T.pos:x;h=T.c!=undefined?T.c:h}w(true);c=D(x);b()["p"]=c}if(s!==false){var N=this;setTimeout(function(){n.onKeyValidation.call(N,T,n)},0);if(b()["writeOutBuffer"]&&T!==false){var C=k();var L;if(r){L=undefined}else if(n.numericInput){if(x>y){L=P(c)}else if(h==n.radixPoint){L=c-1}else L=P(c-1)}else{L=c}B(a,C,L);if(r!==true){setTimeout(function(){if(X(C)===true)f.trigger("complete");v=true;f.trigger("input")},0)}}else if(g){b()["buffer"]=undefined;b()["validPositions"]=b()["undoPositions"]}}else if(g){b()["buffer"]=undefined;b()["validPositions"]=b()["undoPositions"]}if(n.showTooltip){f.prop("title",b()["mask"])}if(t)t.preventDefault?t.preventDefault():t.returnValue=false}}}function Z(t){var r=e(this),i=this,s=t.keyCode,o=k();var u=n.onKeyUp.call(this,t,o,n);if(u&&u["refreshFromBuffer"]===true){b()["validPositions"]={};L(0,k().length)}if(s==n.keyCode.TAB&&n.showMaskOnFocus){if(r.hasClass("focus.inputmask")&&i._valueGet().length==0){w();o=k();B(i,o);W(i,0);h=k().join("")}else{B(i,o);if(o.join("")==C().join("")&&e.inArray(n.radixPoint,o)!=-1){W(i,z(0));r.click()}else W(i,z(0),z(_()))}}}function et(t){if(v===true&&t.type=="input"){v=false;return true}var r=this,i=e(r);if(t.type=="propertychange"&&r._valueGet().length<=_()){return true}setTimeout(function(){var t=e.isFunction(n.onBeforePaste)?n.onBeforePaste.call(r,r._valueGet(),n):r._valueGet();F(r,false,false,t.split(""),true);B(r,k());if(X(k())===true)i.trigger("complete");i.click()},0)}function tt(t){var r=this,i=e(r);var s=W(r),o=r._valueGet();o=o.replace(new RegExp("("+I(C().join(""))+")*"),"");if(s.begin>o.length){W(r,o.length);s=W(r)}if(k().length-o.length==1&&o.charAt(s.begin)!=k()[s.begin]&&o.charAt(s.begin+1)!=k()[s.begin]&&!M(s.begin)){t.keyCode=n.keyCode.BACKSPACE;G.call(r,t)}else{F(r,false,false,o.split(""));B(r,k());if(X(k())===true)i.trigger("complete");i.click()}t.preventDefault()}function nt(r){p=e(r);if(p.is(":input")){p.data("_inputmask",{maskset:t,opts:n,isRTL:false});if(n.showTooltip){p.prop("title",b()["mask"])}K(r);if(n.numericInput)n.isNumeric=n.numericInput;if(r.dir=="rtl"||n.numericInput&&n.rightAlignNumerics||n.isNumeric&&n.rightAlignNumerics)p.css("text-align","right");if(r.dir=="rtl"||n.numericInput){r.dir="ltr";p.removeAttr("dir");var o=p.data("_inputmask");o["isRTL"]=true;p.data("_inputmask",o);s=true}p.unbind(".inputmask");p.removeClass("focus.inputmask");p.closest("form").bind("submit",function(){if(h!=k().join("")){p.change()}}).bind("reset",function(){setTimeout(function(){p.trigger("setvalue")},0)});p.bind("mouseenter.inputmask",function(){var t=e(this),r=this;if(!t.hasClass("focus.inputmask")&&n.showMaskOnHover){if(r._valueGet()!=k().join("")){B(r,k())}}}).bind("blur.inputmask",function(){var t=e(this),r=this,i=r._valueGet(),s=k();t.removeClass("focus.inputmask");if(h!=k().join("")){t.change()}if(n.clearMaskOnLostFocus&&i!=""){if(i==C().join(""))r._valueSet("");else{R(r)}}if(X(s)===false){t.trigger("incomplete");if(n.clearIncomplete){w();if(n.clearMaskOnLostFocus)r._valueSet("");else{s=C().slice();B(r,s)}}}}).bind("focus.inputmask",function(){var t=e(this),r=this,i=r._valueGet();if(n.showMaskOnFocus&&!t.hasClass("focus.inputmask")&&(!n.showMaskOnHover||n.showMaskOnHover&&i=="")){if(r._valueGet()!=k().join("")){B(r,k(),D(E()))}}t.addClass("focus.inputmask");h=k().join("")}).bind("mouseleave.inputmask",function(){var t=e(this),r=this;if(n.clearMaskOnLostFocus){if(!t.hasClass("focus.inputmask")&&r._valueGet()!=t.attr("placeholder")){if(r._valueGet()==C().join("")||r._valueGet()=="")r._valueSet("");else{R(r)}}}}).bind("click.inputmask",function(){var t=this;setTimeout(function(){var r=W(t),i=k();if(r.begin==r.end){var o=s?z(r.begin):r.begin,u=E(o),a;if(n.isNumeric){a=n.skipRadixDance===false&&n.radixPoint!=""&&e.inArray(n.radixPoint,i)!=-1?n.numericInput?D(e.inArray(n.radixPoint,i)):e.inArray(n.radixPoint,i):D(u)}else{a=D(u)}if(o<a){if(M(o))W(t,o);else W(t,D(o))}else W(t,a)}},0)}).bind("dblclick.inputmask",function(){var e=this;setTimeout(function(){W(e,0,D(E()))},0)}).bind(c+".inputmask dragdrop.inputmask drop.inputmask",et).bind("setvalue.inputmask",function(){var e=this;F(e,true);h=k().join("");if(e._valueGet()==C().join(""))e._valueSet("")}).bind("complete.inputmask",n.oncomplete).bind("incomplete.inputmask",n.onincomplete).bind("cleared.inputmask",n.oncleared);p.bind("keydown.inputmask",G).bind("keypress.inputmask",Y).bind("keyup.inputmask",Z);if(u||f||a||l){p.attr("autocomplete","off").attr("autocorrect","off").attr("autocapitalize","off").attr("spellcheck",false);if(f||l){p.unbind("keydown.inputmask",G).unbind("keypress.inputmask",Y).unbind("keyup.inputmask",Z);if(c=="input"){p.unbind(c+".inputmask")}p.bind("input.inputmask",tt)}}if(i)p.bind("input.inputmask",et);var d=e.isFunction(n.onBeforeMask)?n.onBeforeMask.call(r,r._valueGet(),n):r._valueGet();F(r,true,false,d.split(""),true);h=k().join("");var v;try{v=document.activeElement}catch(m){}if(v===r){p.addClass("focus.inputmask");W(r,D(E()))}else if(n.clearMaskOnLostFocus){if(k().join("")==C().join("")){r._valueSet("")}else{R(r)}}else{B(r,k())}J(r)}}var s=false,h=k().join(""),p,d=false,v=false,m=false,g;if(r!=undefined){switch(r["action"]){case"isComplete":p=e(r["el"]);return X(r["buffer"]);case"unmaskedvalue":p=r["$input"];s=r["$input"].data("_inputmask")["isRTL"];return U(r["$input"],r["skipDatepickerCheck"]);case"mask":nt(r["el"]);break;case"format":p=e({});p.data("_inputmask",{maskset:t,opts:n,isRTL:n.numericInput});if(n.numericInput){n.isNumeric=n.numericInput;s=true}var rt=r["value"].split("");F(p,false,false,s?rt.reverse():rt,true);return s?k().reverse().join(""):k().join("");case"isValid":p=e({});p.data("_inputmask",{maskset:t,opts:n,isRTL:n.numericInput});if(n.numericInput){n.isNumeric=n.numericInput;s=true}var rt=r["value"].split("");F(p,false,true,s?rt.reverse():rt);return X(k())}}}function p(t,n,r){function o(n,i,s){var o=n.jquery&&n.length>0?n[0]:n,u;if(typeof i=="number"){i=f(i);s=f(s);s=typeof s=="number"?s:i;if(o!=t){var a=e(o).data("_inputmask")||{};a["caret"]={begin:i,end:s};e(o).data("_inputmask",a)}if(!e(o).is(":visible")){return}o.scrollLeft=o.scrollWidth;if(r.insertMode==false&&i==s)s++;if(o.setSelectionRange){o.selectionStart=i;o.selectionEnd=s}else if(o.createTextRange){u=o.createTextRange();u.collapse(true);u.moveEnd("character",s);u.moveStart("character",i);u.select()}}else{if(!e(o).is(":visible")&&e(o).data("_inputmask")["caret"]!=undefined){var a=e(o).data("_inputmask");i=a["caret"]["begin"];s=a["caret"]["end"]}else if(o.setSelectionRange){i=o.selectionStart;s=o.selectionEnd}else if(document.selection&&document.selection.createRange){u=document.selection.createRange();i=0-u.duplicate().moveStart("character",-1e5);s=i+u.text.length}i=f(i);s=f(s);return{begin:i,end:s}}}function f(e){if(s&&typeof e=="number"&&(!r.greedy||r.placeholder!="")){var t=i.val().length;e=t-e}return e}function l(n,s){if(n!="multiMaskScope"){var a=-1,f=-1,l=-1;e.each(s,function(t,n){var r=e(n).data("_inputmask");var i=r["maskset"];var s=-1,c=0,h=o(n).begin;for(var p in i["validPositions"]){var d=parseInt(p);if(d>s)s=d;c++}if(c>a||c==a&&f>h&&l>s||c==a&&f==h&&l<s){a=c;f=h;u=t;l=s}});if(e.isFunction(r.determineActiveMasksetIndex))u=r.determineActiveMasksetIndex.call(i,n,s)}if(["focus"].indexOf(n)==-1&&i.val()!=s[u]._valueGet()){var c=e(s[u]).val()==""?s[u]._valueGet():e(s[u]).val();i.val(c)}if(["blur","focus"].indexOf(n)==-1){if(e(s[u]).hasClass("focus.inputmask")){var h=o(s[u]);o(t,h.begin,h.end)}}}r.multi=true;var i=e(t),s=t.dir=="rtl"||r.numericInput;var u=0,a=e.map(n,function(t,n){var s='<input type="text" ';if(i.attr("value"))s+='value="'+i.attr("value")+'" ';if(i.attr("dir"))s+='dir="'+i.attr("dir")+'" ';s+="/>";var o=e(s)[0];h(e.extend(true,{},t),r,{action:"mask",el:o});return o});if(t.dir=="rtl"||r.numericInput&&r.rightAlignNumerics||r.isNumeric&&r.rightAlignNumerics)i.css("text-align","right");t.dir="ltr";i.removeAttr("dir");i.bind("mouseenter blur focus mouseleave click dblclick keydown keypress keypress",function(n){var i=o(t),s,c=true;if(n.type=="keydown"){s=n.keyCode;if(s==r.keyCode.DOWN&&u<a.length-1){u++;l("multiMaskScope",a);return false}else if(s==r.keyCode.UP&&u>0){u--;l("multiMaskScope",a);return false}if(n.ctrlKey||n.shiftKey||n.altKey){return true}}else if(n.type=="keypress"&&(n.ctrlKey||n.shiftKey||n.altKey)){return true}e.each(a,function(t,u){if(n.type=="keydown"){s=n.keyCode;if(s==r.keyCode.BACKSPACE&&u._valueGet().length<i.begin){return}else if(s==r.keyCode.TAB){c=false}else if(s==r.keyCode.RIGHT){o(u,i.begin+1,i.end+1);c=false;return}else if(s==r.keyCode.LEFT){o(u,i.begin-1,i.end-1);c=false;return}}if(["click"].indexOf(n.type)!=-1){o(u,f(i.begin),f(i.end));if(i.begin!=i.end){c=false;return}}if(["keydown"].indexOf(n.type)!=-1&&i.begin!=i.end){o(u,i.begin,i.end)}e(u).triggerHandler(n)});if(c){setTimeout(function(){l(n.type,a)},0)}});i.bind(c+" dragdrop drop",function(n){var r=o(t);setTimeout(function(){e.each(a,function(t,r){r._valueSet(i.val());e(r).triggerHandler(n)});setTimeout(function(){l(n.type,a)},0)},0)});if(i.attr("value")!=""){setTimeout(function(){l("init",a)},0)}}e.inputmask={defaults:{placeholder:"_",optionalmarker:{start:"[",end:"]"},quantifiermarker:{start:"{",end:"}"},groupmarker:{start:"(",end:")"},escapeChar:"\\",mask:null,oncomplete:e.noop,onincomplete:e.noop,oncleared:e.noop,repeat:0,greedy:true,autoUnmask:false,clearMaskOnLostFocus:true,insertMode:true,clearIncomplete:false,aliases:{},onKeyUp:e.noop,onKeyDown:e.noop,onBeforeMask:undefined,onBeforePaste:undefined,onUnMask:undefined,showMaskOnFocus:true,showMaskOnHover:true,onKeyValidation:e.noop,skipOptionalPartCharacter:" ",showTooltip:false,numericInput:false,isNumeric:false,radixPoint:"",skipRadixDance:false,rightAlignNumerics:true,definitions:{9:{validator:"[0-9]",cardinality:1,definitionSymbol:"*"},a:{validator:"[A-Za-zА-яЁё]",cardinality:1,definitionSymbol:"*"},"*":{validator:"[A-Za-zА-яЁё0-9]",cardinality:1}},keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91},ignorables:[8,9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123],isComplete:undefined,multi:false,nojumps:false,nojumpsThreshold:0,determineActiveMasksetIndex:undefined},masksCache:{},escapeRegex:function(e){var t=["/",".","*","+","?","|","(",")","[","]","{","}","\\"];return e.replace(new RegExp("(\\"+t.join("|\\")+")","gim"),"\\$1")},format:function(t,i){var s=e.extend(true,{},e.inputmask.defaults,i);n(s.alias,i,s);return h(r(s),s,{action:"format",value:t})},isValid:function(t,i){var s=e.extend(true,{},e.inputmask.defaults,i);n(s.alias,i,s);return h(r(s),s,{action:"isValid",value:t})}};e.fn.inputmask=function(t,i){var s=e.extend(true,{},e.inputmask.defaults,i),o;if(typeof t==="string"){switch(t){case"mask":n(s.alias,i,s);o=r(s);if(o.length==0){return this}return this.each(function(){if(e.isArray(o)){p(this,o,s)}else h(e.extend(true,{},o),s,{action:"mask",el:this})});case"unmaskedvalue":var u=e(this),a=this;if(u.data("_inputmask")){o=u.data("_inputmask")["maskset"];s=u.data("_inputmask")["opts"];return h(o,s,{action:"unmaskedvalue",$input:u})}else return u.val();case"remove":return this.each(function(){var t=e(this),n=this;if(t.data("_inputmask")){o=t.data("_inputmask")["maskset"];s=t.data("_inputmask")["opts"];n._valueSet(h(o,s,{action:"unmaskedvalue",$input:t,skipDatepickerCheck:true}));t.removeData("_inputmask");t.unbind(".inputmask");t.removeClass("focus.inputmask");var r;if(Object.getOwnPropertyDescriptor)r=Object.getOwnPropertyDescriptor(n,"value");if(r&&r.get){if(n._valueGet){Object.defineProperty(n,"value",{get:n._valueGet,set:n._valueSet})}}else if(document.__lookupGetter__&&n.__lookupGetter__("value")){if(n._valueGet){n.__defineGetter__("value",n._valueGet);n.__defineSetter__("value",n._valueSet)}}try{delete n._valueGet;delete n._valueSet}catch(i){n._valueGet=undefined;n._valueSet=undefined}}});break;case"getemptymask":if(this.data("_inputmask")){o=this.data("_inputmask")["maskset"];return o["_buffer"].join("")}else return"";case"hasMaskedValue":return this.data("_inputmask")?!this.data("_inputmask")["opts"].autoUnmask:false;case"isComplete":if(this.data("_inputmask")){o=this.data("_inputmask")["maskset"];s=this.data("_inputmask")["opts"];return h(o,s,{action:"isComplete",buffer:this[0]._valueGet().split(""),el:this})}else return true;case"getmetadata":if(this.data("_inputmask")){o=this.data("_inputmask")["maskset"];return o["metadata"]}else return undefined;default:if(!n(t,i,s)){s.mask=t}o=r(s);if(o==undefined){return this}return this.each(function(){if(e.isArray(o)){p(this,o,s)}else h(e.extend(true,{},o),s,{action:"mask",el:this})});break}}else if(typeof t=="object"){s=e.extend(true,{},e.inputmask.defaults,t);n(s.alias,t,s);o=r(s);if(o==undefined){return this}return this.each(function(){if(e.isArray(o)){p(this,o,s)}else h(e.extend(true,{},o),s,{action:"mask",el:this})})}else if(t==undefined){return this.each(function(){var t=e(this).attr("data-inputmask");if(t&&t!=""){try{t=t.replace(new RegExp("'","g"),'"');var r=e.parseJSON("{"+t+"}");e.extend(true,r,i);s=e.extend(true,{},e.inputmask.defaults,r);n(s.alias,r,s);s.alias=undefined;e(this).inputmask(s)}catch(o){}}})}}}})(jQuery)